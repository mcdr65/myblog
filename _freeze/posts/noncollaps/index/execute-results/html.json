{
  "hash": "75bfb9b7a6c1102ccc2adcb0ef1bcb4b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Noncollapsibility of the odds ratio\"\ndate: \"2023-12-02\"\ndescription: \"IPW-analysis\"\ncategories: [code, analysis]\n---\n\n\n\n\n\n\n\n# Noncollapsibility\n\n\nAssume having a binary outcome $Y$ and a treatment indicator $X$ denoting if patient was randomised to treatment ($X=1$) or control ($X=0$). The analysis would be to fit a simple **logistic regression model**\n\n$$\nP(Y=1|X)=\\text{expit}(\\alpha_0+\\alpha_1X),\n$$\n\nwith $\\text{expit}(\\alpha_0+\\alpha_1X)=\\frac{\\exp(\\alpha_0+\\alpha_1X)}{1+\\exp(\\alpha_0+\\alpha_1X)}$.\n\nOften, we write the model with the linear predictor, that is, the logit transformed expectation,\n\n$$\n\\boxed{\\text{logit}P(Y=1|X)=\\alpha_0+{\\color{red}\\alpha_1}X}.\n$$\n \n\nOf course, there will be other factors that influence the probability that $Y=1$. Assume another variable $C$ which influences the probability that $Y=1$. The conditional model would be\n\n$$\n\\boxed{\\text{logit}P(Y=1|X,C)=\\beta_0+{\\color{red}\\beta_1}X+\\beta_2C}.\n$$\n\nNow, under randomisation, $C$ and $X$ are (population) independent -- that is -- there is no confounding of the effect of $X$ on $Y$ by $C$ in place. \n\nThough $C$ is not a confounder, in general, ${\\color{red}\\alpha_1 \\neq \\beta_1}$. The parameters (log odds ratios) in the marginal and conditional model are **different**. The proof is based on **William's Tower rule** for conditional expectations:\n\n\n$$\n\\begin{align}\nE(Y|X)=&E(E(Y|X,C)|X)\\\\\n=&E(\\text{expit}(\\beta_0+\\beta_1X+\\beta_2C)|X)\\\\\n\\neq &\\text{expit}(\\beta_0+\\beta_1X+\\beta_2E(C|X))\n\\end{align}\n$$\n\n\n<!-- $$ -->\n<!-- \\begin{align} -->\n<!-- E(Y_x=1)=&E_C(Y_x=1|C)\\\\ -->\n<!-- =&E_C(\\text{expit}(\\beta_0+\\beta_1X+\\beta_2C))\\\\ -->\n<!-- \\neq &\\text{expit}(\\beta_0+\\beta_1X+\\beta_2E(C)) -->\n<!-- \\end{align} -->\n<!-- $$ -->\n\n\nWith **other link functions** (in log-linear models) and identity (in linear models)), however, the two quantities are **equal**. \n\n\n# Example\n\nWe simulate data from logistic GLM with **non-confounding** covariate $C$:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(3)\nN <- 400\nC <- sort(runif(N,-8,8)) #non-confounding C\nX<-sample(c(0,1),N,replace=TRUE)\nbeta0<-0\nbeta1<-log(10)\nbeta2<-1\n##Logistic \netai<-beta0+beta1*X+beta2*C\npii<-exp(etai)/(1+exp(etai))\nYdich <-rbinom(X,size=1,prob=pii)\ndat<-data.frame(C,X,Ydich)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npsych::headTail(dat)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        C   X Ydich\n1   -7.87   0     0\n2   -7.87   0     0\n3   -7.86   0     0\n4   -7.81   0     0\n...   ... ...   ...\n397  7.93   1     1\n398  7.94   0     1\n399  7.95   0     1\n400  7.95   0     1\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmodC<-glm(Ydich~X+C,data=dat,family=\"binomial\")\nmodM<-glm(Ydich~X,data=dat,family=\"binomial\")\n```\n:::\n\n\n\n\n## Marginal model\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nequatiomatic::extract_eq(modM)\n```\n\n::: {.cell-output-display}\n$$\n\\log\\left[ \\frac { P( \\operatorname{Ydich} = \\operatorname{1} ) }{ 1 - P( \\operatorname{Ydich} = \\operatorname{1} ) } \\right] = \\alpha + \\beta_{1}(\\operatorname{X})\n$$\n\n:::\n:::\n\n\n\n## Conditional model\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nequatiomatic::extract_eq(modC)\n```\n\n::: {.cell-output-display}\n$$\n\\log\\left[ \\frac { P( \\operatorname{Ydich} = \\operatorname{1} ) }{ 1 - P( \\operatorname{Ydich} = \\operatorname{1} ) } \\right] = \\alpha + \\beta_{1}(\\operatorname{X}) + \\beta_{2}(\\operatorname{C})\n$$\n\n:::\n:::\n\n\n\n\n\n\n## Illustrate non-collapsibility\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npred<-predict(modM,type=\"response\",se.fit=TRUE)\npredgA<-predict(modC,newdata=data.frame(C=C[X==0],X=0),se.fit=TRUE,type=\"response\")\npredgB<-predict(modC,newdata=data.frame(C=C[X==1],X=1),se.fit=TRUE,type=\"response\")\nplot(C,Ydich,col=c(\"blue\",\"red\")[X+1],ylab=\"Probability\")\nlines(sort(C[X==0]),sort(predgA$fit),col=\"blue\")\nlines(sort(C[X==1]),sort(predgB$fit),col=\"red\")\nabline(a=mean(pii[X==0]),b=0,col=\"blue\",lty=2)\nabline(a=mean(pii[X==1]),b=0,col=\"red\",lty=2)\n```\n\n::: {.cell-output-display}\n![Log odds ratio for group is larger when we adjust for $C$ (Differences in logits  between solid lines relative to distance between dashed lines)](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n\n## Marginal model\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(modM)$coef\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n            Estimate Std. Error z value Pr(>|z|)\n(Intercept) -0.08004     0.1415 -0.5655 0.571710\nX            0.63377     0.2040  3.1071 0.001889\n```\n\n\n:::\n:::\n\n\n\n\n## Conditional model\n\nEffect of $X$ is larger, even though $C$ is not a confounder. This is due to **non-collapsibility of the odds ratio**\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(modC)$coef\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n            Estimate Std. Error z value  Pr(>|z|)\n(Intercept) -0.05395     0.3208 -0.1682 8.665e-01\nX            2.46270     0.5209  4.7280 2.267e-06\nC            1.04913     0.1200  8.7453 2.223e-18\n```\n\n\n:::\n:::\n\n\n\n\n\n## IPW-model\n\nEstimate inverse probability weights to fit marginal structural\n     models in a point treatment situation. \n\n\n### Weights\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ipw)\ntemp <- ipwpoint(exposure=X,family = \"binomial\",link = \"logit\",data=dat,numerator =~1,denominator = ~ C)\nsummary(temp$ipw.weights)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  0.989   0.994   1.000   1.000   1.006   1.012 \n```\n\n\n:::\n\n```{.r .cell-code}\ndat$sw<-temp$ipw.weights\n```\n:::\n\n\n\n\n### Marginal structural model\n\nMarginal structural model for the causal effect of $X$ on $Y$ corrected for confounding by $C$ using inverse probability weighting\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodW<-glm(Ydich~X,weights=sw,data=dat,family=quasibinomial)\nsummary(modW)$coef\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n            Estimate Std. Error t value Pr(>|t|)\n(Intercept)  -0.0683     0.1419 -0.4814 0.630474\nX             0.6117     0.2043  2.9938 0.002927\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrequire(\"survey\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: survey\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: grid\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: Matrix\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: survival\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'survey'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:graphics':\n\n    dotchart\n```\n\n\n:::\n\n```{.r .cell-code}\nmsm <- (svyglm(Ydich ~ X, family=\"binomial\",design = svydesign(~ 1, weights =~sw,data = dat)))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in eval(family$initialize): non-integer #successes in a binomial glm!\n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(msm)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nsvyglm(formula = Ydich ~ X, design = svydesign(~1, weights = ~sw, \n    data = dat), family = \"binomial\")\n\nSurvey design:\nsvydesign(~1, weights = ~sw, data = dat)\n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)\n(Intercept)  -0.0683     0.1417   -0.48   0.6301\nX             0.6117     0.2042    3.00   0.0029\n\n(Dispersion parameter for binomial family taken to be 1.003)\n\nNumber of Fisher Scoring iterations: 4\n```\n\n\n:::\n:::\n\n\n\n\n\n## Comparison\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodelsummary::modelsummary(models=list(\"marginal\"=modM,\"conditional\"=modC,\"IPW\"=modW))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_go2gskbe8m18o691eacw</title>\n    <style>\n.table td.tinytable_css_px1qke8wnu8f2cfput0k, .table th.tinytable_css_px1qke8wnu8f2cfput0k {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_1es251tvkri3m7kb2z0r, .table th.tinytable_css_1es251tvkri3m7kb2z0r {    text-align: left; }\n.table td.tinytable_css_gyt8nqe368092ptypr02, .table th.tinytable_css_gyt8nqe368092ptypr02 {    text-align: center; }\n.table td.tinytable_css_clayyur2cqkk0r05xete, .table th.tinytable_css_clayyur2cqkk0r05xete {    text-align: center; }\n.table td.tinytable_css_z361n01s3xo2aqaphg5u, .table th.tinytable_css_z361n01s3xo2aqaphg5u {    text-align: center; }\n.table td.tinytable_css_z7q4b11imavsh1uhg4qm, .table th.tinytable_css_z7q4b11imavsh1uhg4qm {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_go2gskbe8m18o691eacw\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">marginal</th>\n                <th scope=\"col\">conditional</th>\n                <th scope=\"col\">IPW</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td>(Intercept)</td>\n                  <td>-0.080  </td>\n                  <td>-0.054 </td>\n                  <td>-0.068 </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.142) </td>\n                  <td>(0.321)</td>\n                  <td>(0.142)</td>\n                </tr>\n                <tr>\n                  <td>X          </td>\n                  <td>0.634   </td>\n                  <td>2.463  </td>\n                  <td>0.612  </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.204) </td>\n                  <td>(0.521)</td>\n                  <td>(0.204)</td>\n                </tr>\n                <tr>\n                  <td>C          </td>\n                  <td>        </td>\n                  <td>1.049  </td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>        </td>\n                  <td>(0.120)</td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.   </td>\n                  <td>400     </td>\n                  <td>400    </td>\n                  <td>400    </td>\n                </tr>\n                <tr>\n                  <td>AIC        </td>\n                  <td>543.4   </td>\n                  <td>152.6  </td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>BIC        </td>\n                  <td>551.4   </td>\n                  <td>164.5  </td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.   </td>\n                  <td>-269.718</td>\n                  <td>-73.275</td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>F          </td>\n                  <td>9.654   </td>\n                  <td>38.281 </td>\n                  <td>8.963  </td>\n                </tr>\n                <tr>\n                  <td>RMSE       </td>\n                  <td>0.49    </td>\n                  <td>0.23   </td>\n                  <td>0.49   </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_t3gj0w3s02exr4rvjqs5(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_go2gskbe8m18o691eacw\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_go2gskbe8m18o691eacw');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_t3gj0w3s02exr4rvjqs5(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_go2gskbe8m18o691eacw\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(0, 0, 'tinytable_css_px1qke8wnu8f2cfput0k') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(0, 1, 'tinytable_css_px1qke8wnu8f2cfput0k') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(0, 2, 'tinytable_css_px1qke8wnu8f2cfput0k') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(0, 3, 'tinytable_css_px1qke8wnu8f2cfput0k') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(0, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(1, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(2, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(3, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(4, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(5, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(6, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(7, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(8, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(9, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(10, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(11, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(12, 0, 'tinytable_css_1es251tvkri3m7kb2z0r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(0, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(1, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(2, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(3, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(4, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(5, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(6, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(7, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(8, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(9, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(10, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(11, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(12, 1, 'tinytable_css_gyt8nqe368092ptypr02') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(0, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(1, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(2, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(3, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(4, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(5, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(6, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(7, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(8, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(9, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(10, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(11, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(12, 2, 'tinytable_css_clayyur2cqkk0r05xete') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(0, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(1, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(2, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(3, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(4, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(5, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(6, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(7, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(8, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(9, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(10, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(11, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(12, 3, 'tinytable_css_z361n01s3xo2aqaphg5u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(6, 0, 'tinytable_css_z7q4b11imavsh1uhg4qm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(6, 1, 'tinytable_css_z7q4b11imavsh1uhg4qm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(6, 2, 'tinytable_css_z7q4b11imavsh1uhg4qm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_t3gj0w3s02exr4rvjqs5(6, 3, 'tinytable_css_z7q4b11imavsh1uhg4qm') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n\n\n::: {.callout-important}\n* conditional-marginal=noncollaps+confouding\n* IPW-marginal=confounding\n* conditional-IPW=noncollaps\n:::\n\n\n\n\n# Smoking and children weight\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(bwt)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t189 obs. of  9 variables:\n $ low     : int  0 0 0 0 0 0 0 0 0 0 ...\n $ age     : int  19 33 20 21 18 21 22 17 29 26 ...\n $ lwt     : int  182 155 105 108 107 124 118 103 123 113 ...\n $ smoke   : int  0 0 1 1 1 0 0 0 1 1 ...\n $ ht      : int  0 0 0 0 0 0 0 0 0 0 ...\n $ ui      : int  1 0 0 1 1 0 0 0 0 0 ...\n $ ftv     : int  0 3 1 2 0 0 1 1 1 0 ...\n $ bwt     : int  2523 2551 2557 2594 2600 2622 2637 2637 2663 2665 ...\n $ socclass: Factor w/ 3 levels \"I\",\"II\",\"III\": 2 3 1 1 1 3 1 3 1 1 ...\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglm_smoke <- glm(low ~ smoke, data = bwt, family = binomial)\nsummary(glm_smoke)$coef\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n            Estimate Std. Error z value  Pr(>|z|)\n(Intercept)  -1.0871     0.2147  -5.062 4.142e-07\nsmoke         0.7041     0.3196   2.203 2.762e-02\n```\n\n\n:::\n\n```{.r .cell-code}\nglm_multi_1 <- glm(low ~ smoke + socclass, data = bwt, family = binomial)\nsummary(glm_multi_1)$coef\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n            Estimate Std. Error z value  Pr(>|z|)\n(Intercept)   -1.841     0.3529  -5.216 1.828e-07\nsmoke          1.116     0.3692   3.023 2.507e-03\nsocclassII     1.084     0.4900   2.212 2.693e-02\nsocclassIII    1.109     0.4003   2.769 5.618e-03\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntemp <- ipwpoint(exposure=smoke,family = \"binomial\",link = \"logit\",data=bwt,\n                 numerator=~1,denominator=~socclass)\nsummary(temp$ipw.weights)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  0.723   0.723   0.741   1.000   1.328   2.186 \n```\n\n\n:::\n\n```{.r .cell-code}\nbwt$sw<-temp$ipw.weights\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmodW<-glm(low~smoke,weights=sw,data=bwt,family=quasibinomial)\nsummary(modW)$coef\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n            Estimate Std. Error t value  Pr(>|t|)\n(Intercept)   -1.277     0.2270  -5.625 6.696e-08\nsmoke          0.937     0.3283   2.854 4.798e-03\n```\n\n\n:::\n:::\n\n\n\n\n\n::: {.callout-important}\n* conditional-marginal=noncollaps+confouding\n* IPW-marginal=confounding\n* conditional-IPW=noncollaps\n:::\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodelsummary::modelsummary(models=list(\"marginal\"=glm_smoke,\"conditional\"=glm_multi_1,\"IPW\"=modW))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_mok38oij1jh1rmtbb659</title>\n    <style>\n.table td.tinytable_css_wgg0jp4mg978c9u56684, .table th.tinytable_css_wgg0jp4mg978c9u56684 {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_eac0hk75d5sxovq3bgdm, .table th.tinytable_css_eac0hk75d5sxovq3bgdm {    text-align: left; }\n.table td.tinytable_css_i8zaq6ls0n6rp3l9nyq5, .table th.tinytable_css_i8zaq6ls0n6rp3l9nyq5 {    text-align: center; }\n.table td.tinytable_css_1fx40gffbj2qhwcyq19l, .table th.tinytable_css_1fx40gffbj2qhwcyq19l {    text-align: center; }\n.table td.tinytable_css_lqrnf677zqwnnxmnb4fy, .table th.tinytable_css_lqrnf677zqwnnxmnb4fy {    text-align: center; }\n.table td.tinytable_css_ed8i6gjyfdunajfe4ela, .table th.tinytable_css_ed8i6gjyfdunajfe4ela {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_mok38oij1jh1rmtbb659\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">marginal</th>\n                <th scope=\"col\">conditional</th>\n                <th scope=\"col\">IPW</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td>(Intercept)</td>\n                  <td>-1.087  </td>\n                  <td>-1.841  </td>\n                  <td>-1.277 </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.215) </td>\n                  <td>(0.353) </td>\n                  <td>(0.227)</td>\n                </tr>\n                <tr>\n                  <td>smoke      </td>\n                  <td>0.704   </td>\n                  <td>1.116   </td>\n                  <td>0.937  </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.320) </td>\n                  <td>(0.369) </td>\n                  <td>(0.328)</td>\n                </tr>\n                <tr>\n                  <td>socclassII </td>\n                  <td>        </td>\n                  <td>1.084   </td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>        </td>\n                  <td>(0.490) </td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>socclassIII</td>\n                  <td>        </td>\n                  <td>1.109   </td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>        </td>\n                  <td>(0.400) </td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.   </td>\n                  <td>189     </td>\n                  <td>189     </td>\n                  <td>189    </td>\n                </tr>\n                <tr>\n                  <td>AIC        </td>\n                  <td>233.8   </td>\n                  <td>228.0   </td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>BIC        </td>\n                  <td>240.3   </td>\n                  <td>240.9   </td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.   </td>\n                  <td>-114.902</td>\n                  <td>-109.987</td>\n                  <td>       </td>\n                </tr>\n                <tr>\n                  <td>F          </td>\n                  <td>4.852   </td>\n                  <td>4.294   </td>\n                  <td>8.148  </td>\n                </tr>\n                <tr>\n                  <td>RMSE       </td>\n                  <td>0.46    </td>\n                  <td>0.45    </td>\n                  <td>0.46   </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_p2drn2iuezax2dyynxaa(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_mok38oij1jh1rmtbb659\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_mok38oij1jh1rmtbb659');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_p2drn2iuezax2dyynxaa(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_mok38oij1jh1rmtbb659\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(0, 0, 'tinytable_css_wgg0jp4mg978c9u56684') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(0, 1, 'tinytable_css_wgg0jp4mg978c9u56684') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(0, 2, 'tinytable_css_wgg0jp4mg978c9u56684') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(0, 3, 'tinytable_css_wgg0jp4mg978c9u56684') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(0, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(1, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(2, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(3, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(4, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(5, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(6, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(7, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(8, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(9, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(10, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(11, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(12, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(13, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(14, 0, 'tinytable_css_eac0hk75d5sxovq3bgdm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(0, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(1, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(2, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(3, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(4, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(5, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(6, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(7, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(8, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(9, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(10, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(11, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(12, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(13, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(14, 1, 'tinytable_css_i8zaq6ls0n6rp3l9nyq5') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(0, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(1, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(2, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(3, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(4, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(5, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(6, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(7, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(8, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(9, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(10, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(11, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(12, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(13, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(14, 2, 'tinytable_css_1fx40gffbj2qhwcyq19l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(0, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(1, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(2, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(3, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(4, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(5, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(6, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(7, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(8, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(9, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(10, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(11, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(12, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(13, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(14, 3, 'tinytable_css_lqrnf677zqwnnxmnb4fy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(8, 0, 'tinytable_css_ed8i6gjyfdunajfe4ela') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(8, 1, 'tinytable_css_ed8i6gjyfdunajfe4ela') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(8, 2, 'tinytable_css_ed8i6gjyfdunajfe4ela') })\nwindow.addEventListener('load', function () { styleCell_tinytable_p2drn2iuezax2dyynxaa(8, 3, 'tinytable_css_ed8i6gjyfdunajfe4ela') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n\n\n\n# The view of potential outcomes\n\n<!-- See [Example](https://www.r-bloggers.com/2017/12/when-you-use-inverse-probability-weighting-for-estimation-what-are-the-weights-actually-doing/) for marginal structural models in this context. -->\n\n## Simulate some data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(simstudy)\n# define the data\ndefB <- defData(varname = \"C\", formula =0.27, \n                dist = \"binary\")\ndefB <- defData(defB, varname = \"Y0\", formula = \"-2.5 + 1.75*C\", \n                dist = \"binary\", link = \"logit\")\ndefB <- defData(defB, varname = \"Y1\", formula = \"-1.5 + 1.75*C\", \n                dist = \"binary\", link = \"logit\")\ndefB <- defData(defB, varname = \"X\", formula = \"0.315 + 0.352 *C\", \n                dist = \"binary\")\ndefB <- defData(defB, varname = \"Y\", formula = \"Y0 + X * (Y1 - Y0)\", \n                dist = \"nonrandom\")\ndefB\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   varname            formula variance      dist     link\n    <char>             <char>    <num>    <char>   <char>\n1:       C               0.27        0    binary identity\n2:      Y0      -2.5 + 1.75*C        0    binary    logit\n3:      Y1      -1.5 + 1.75*C        0    binary    logit\n4:       X   0.315 + 0.352 *C        0    binary identity\n5:       Y Y0 + X * (Y1 - Y0)        0 nonrandom identity\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(2002)\nNnew<-1000\ndtB <- genData(Nnew, defB)\ndtB\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nKey: <id>\n         id     C    Y0    Y1     X     Y\n      <int> <int> <int> <int> <int> <int>\n   1:     1     0     0     0     0     0\n   2:     2     0     0     1     0     0\n   3:     3     1     0     0     1     0\n   4:     4     0     0     0     0     0\n   5:     5     1     1     1     0     1\n  ---                                    \n 996:   996     0     0     1     0     0\n 997:   997     0     0     0     1     0\n 998:   998     1     0     1     1     1\n 999:   999     0     0     0     0     0\n1000:  1000     1     0     0     1     0\n```\n\n\n:::\n:::\n\n\n\n\n## True causal effect (based on potential outcomes)\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nodds <- function (p) {\n    return((p/(1 - p)))\n}\n\ndtB[, log( odds( mean(Y1) ) / odds( mean(Y0) ) )]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.9494\n```\n\n\n:::\n:::\n\n\n\n\n## Conditional effect\n\nThe true conditional causal effect of $A$ is 1.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmc<-glm(Y ~ X + C , data = dtB, family=\"binomial\")\nmc\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:  glm(formula = Y ~ X + C, family = \"binomial\", data = dtB)\n\nCoefficients:\n(Intercept)            X            C  \n      -2.74         1.21         1.61  \n\nDegrees of Freedom: 999 Total (i.e. Null);  997 Residual\nNull Deviance:\t    964 \nResidual Deviance: 797 \tAIC: 803\n```\n\n\n:::\n:::\n\n\n\nThis estimate for $X$ is a good estimate of the conditional effect in the population, based on the potential outcomes at each level of $C$\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndtB[, .(LOR = log( odds( mean(Y1) ) / odds( mean(Y0) ) ) ), keyby = C]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nKey: <C>\n       C   LOR\n   <int> <num>\n1:     0 1.104\n2:     1 1.067\n```\n\n\n:::\n:::\n\n\n\n\n## Marginal effect\n\nThe marginal estimate is biased both for the conditional effect and the marginal causal effect.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmm<-glm(Y ~ X , data = dtB, family=\"binomial\")\nmm\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:  glm(formula = Y ~ X, family = \"binomial\", data = dtB)\n\nCoefficients:\n(Intercept)            X  \n      -2.33         1.59  \n\nDegrees of Freedom: 999 Total (i.e. Null);  998 Residual\nNull Deviance:\t    964 \nResidual Deviance: 876 \tAIC: 880\n```\n\n\n:::\n:::\n\n\n\n\n\n## Numerator and Denominator model\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnumModel <- glm(X ~ 1, data = dtB, family = \"binomial\")\ndenModel <- glm(X ~ C, data = dtB, family = \"binomial\")\n```\n:::\n\n\n\n\n## Stabilized weights by hand\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndtB[, pX0 := predict(numModel, type = \"response\")]\ndtB[, pX := predict(denModel, type = \"response\")]\ndefB2 <- defDataAdd(varname = \"IPW\", \n                    formula = \"(X*pX0+(1-X)*(1-pX0))/((X * pX) + ((1 - X) * (1 - pX)))\", \n                    dist = \"nonrandom\")\ndtB <- addColumns(defB2, dtB)\ndtB[1:6]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nKey: <id>\n      id     C    Y0    Y1     X     Y   pX0     pX    IPW\n   <int> <int> <int> <int> <int> <int> <num>  <num>  <num>\n1:     1     0     0     0     0     0 0.423 0.3347 0.8673\n2:     2     0     0     1     0     0 0.423 0.3347 0.8673\n3:     3     1     0     0     1     0 0.423 0.6718 0.6297\n4:     4     0     0     0     0     0 0.423 0.3347 0.8673\n5:     5     1     1     1     0     1 0.423 0.6718 1.7578\n6:     6     1     0     0     1     0 0.423 0.6718 0.6297\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nunique(dtB$IPW)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8673 0.6297 1.7578 1.2639\n```\n\n\n:::\n:::\n\n\n\n\n## Stabilized weights with **ipw** package\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntempsw<-ipw::ipwpoint(exposure=X,family=\"binomial\",link=\"logit\",numerator=~1,denominator = ~C,data=dtB)\ntempw<-ipw::ipwpoint(exposure=X,family=\"binomial\",link=\"logit\",denominator = ~C,data=dtB)\nunique(tempsw$ipw.weights)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8673 0.6297 1.7578 1.2639\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(tempsw$ipw.weights)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n```\n\n\n:::\n\n```{.r .cell-code}\nunique(tempw$ipw.weights)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.503 1.489 3.047 2.988\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(tempw$ipw.weights)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\n\n\n\n\n## Applying IPW \n\n### Unstabilized weights\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(mw<-glm(Y ~ X , data = dtB, family=\"binomial\", weights = tempw$ipw.weights))$coef\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in eval(family$initialize): non-integer #successes in a binomial glm!\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n            Estimate Std. Error z value  Pr(>|z|)\n(Intercept)   -2.069     0.1002 -20.645 1.076e-94\nX              1.081     0.1229   8.801 1.354e-18\n```\n\n\n:::\n:::\n\n\n\n\n### Stabilized weights\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(mws<-glm(Y ~ X , data = dtB, family=\"binomial\", weights = tempsw$ipw.weights))$coef\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in eval(family$initialize): non-integer #successes in a binomial glm!\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n            Estimate Std. Error z value  Pr(>|z|)\n(Intercept)   -2.069     0.1319 -15.682 1.996e-55\nX              1.081     0.1713   6.312 2.760e-10\n```\n\n\n:::\n:::\n\n\n\n## Comparison\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodelsummary::modelsummary(models=list(\"marginal\"=mm,\"conditional\"=mc,\"IPW\"=mw,\"IPWs\"=mws))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in eval(family$initialize): non-integer #successes in a binomial glm!\nWarning in eval(family$initialize): non-integer #successes in a binomial glm!\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_a1qfbesdj2xn5ksy0m40</title>\n    <style>\n.table td.tinytable_css_u81e16ajn55e3ru9vcps, .table th.tinytable_css_u81e16ajn55e3ru9vcps {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_3tp70v3x094vpdy8w64w, .table th.tinytable_css_3tp70v3x094vpdy8w64w {    text-align: left; }\n.table td.tinytable_css_my1f6fbqb04wq7es1507, .table th.tinytable_css_my1f6fbqb04wq7es1507 {    text-align: center; }\n.table td.tinytable_css_my0di3hhti3w8wi8dcd6, .table th.tinytable_css_my0di3hhti3w8wi8dcd6 {    text-align: center; }\n.table td.tinytable_css_05rbakmf3w4nc5qm5aiy, .table th.tinytable_css_05rbakmf3w4nc5qm5aiy {    text-align: center; }\n.table td.tinytable_css_tyulj8fqviztxy4lu06n, .table th.tinytable_css_tyulj8fqviztxy4lu06n {    text-align: center; }\n.table td.tinytable_css_qac5fl4n3luskrwmeb2o, .table th.tinytable_css_qac5fl4n3luskrwmeb2o {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_a1qfbesdj2xn5ksy0m40\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">marginal</th>\n                <th scope=\"col\">conditional</th>\n                <th scope=\"col\">IPW</th>\n                <th scope=\"col\">IPWs</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td>(Intercept)</td>\n                  <td>-2.333  </td>\n                  <td>-2.736  </td>\n                  <td>-2.069  </td>\n                  <td>-2.069  </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.147) </td>\n                  <td>(0.165) </td>\n                  <td>(0.100) </td>\n                  <td>(0.132) </td>\n                </tr>\n                <tr>\n                  <td>X          </td>\n                  <td>1.587   </td>\n                  <td>1.211   </td>\n                  <td>1.081   </td>\n                  <td>1.081   </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.180) </td>\n                  <td>(0.191) </td>\n                  <td>(0.123) </td>\n                  <td>(0.171) </td>\n                </tr>\n                <tr>\n                  <td>C          </td>\n                  <td>        </td>\n                  <td>1.614   </td>\n                  <td>        </td>\n                  <td>        </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>        </td>\n                  <td>(0.183) </td>\n                  <td>        </td>\n                  <td>        </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.   </td>\n                  <td>1000    </td>\n                  <td>1000    </td>\n                  <td>1000    </td>\n                  <td>1000    </td>\n                </tr>\n                <tr>\n                  <td>AIC        </td>\n                  <td>880.1   </td>\n                  <td>802.5   </td>\n                  <td>1847.3  </td>\n                  <td>1004.4  </td>\n                </tr>\n                <tr>\n                  <td>BIC        </td>\n                  <td>889.9   </td>\n                  <td>817.3   </td>\n                  <td>1857.1  </td>\n                  <td>1014.2  </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.   </td>\n                  <td>-438.049</td>\n                  <td>-398.272</td>\n                  <td>-921.632</td>\n                  <td>-500.206</td>\n                </tr>\n                <tr>\n                  <td>F          </td>\n                  <td>77.828  </td>\n                  <td>71.500  </td>\n                  <td>77.460  </td>\n                  <td>39.837  </td>\n                </tr>\n                <tr>\n                  <td>RMSE       </td>\n                  <td>0.37    </td>\n                  <td>0.35    </td>\n                  <td>0.37    </td>\n                  <td>0.37    </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_mliu2f4pbcbk7j16nmam(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_a1qfbesdj2xn5ksy0m40\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_a1qfbesdj2xn5ksy0m40');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_mliu2f4pbcbk7j16nmam(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_a1qfbesdj2xn5ksy0m40\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(0, 0, 'tinytable_css_u81e16ajn55e3ru9vcps') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(0, 1, 'tinytable_css_u81e16ajn55e3ru9vcps') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(0, 2, 'tinytable_css_u81e16ajn55e3ru9vcps') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(0, 3, 'tinytable_css_u81e16ajn55e3ru9vcps') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(0, 4, 'tinytable_css_u81e16ajn55e3ru9vcps') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(0, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(1, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(2, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(3, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(4, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(5, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(6, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(7, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(8, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(9, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(10, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(11, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(12, 0, 'tinytable_css_3tp70v3x094vpdy8w64w') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(0, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(1, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(2, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(3, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(4, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(5, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(6, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(7, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(8, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(9, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(10, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(11, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(12, 1, 'tinytable_css_my1f6fbqb04wq7es1507') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(0, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(1, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(2, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(3, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(4, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(5, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(6, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(7, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(8, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(9, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(10, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(11, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(12, 2, 'tinytable_css_my0di3hhti3w8wi8dcd6') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(0, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(1, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(2, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(3, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(4, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(5, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(6, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(7, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(8, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(9, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(10, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(11, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(12, 3, 'tinytable_css_05rbakmf3w4nc5qm5aiy') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(0, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(1, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(2, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(3, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(4, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(5, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(6, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(7, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(8, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(9, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(10, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(11, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(12, 4, 'tinytable_css_tyulj8fqviztxy4lu06n') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(6, 0, 'tinytable_css_qac5fl4n3luskrwmeb2o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(6, 1, 'tinytable_css_qac5fl4n3luskrwmeb2o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(6, 2, 'tinytable_css_qac5fl4n3luskrwmeb2o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(6, 3, 'tinytable_css_qac5fl4n3luskrwmeb2o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mliu2f4pbcbk7j16nmam(6, 4, 'tinytable_css_qac5fl4n3luskrwmeb2o') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
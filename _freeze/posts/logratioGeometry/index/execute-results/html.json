{
  "hash": "e2729c16f667697c438afd8924627dda",
  "result": {
    "markdown": "---\ntitle: \"Compositions\"\ndate: \"2022-11-03\"\ndescription: \"Simplex as sample space: Tetrahedron for 4-part compositions\"\ncategories: [code, analysis]\n---\n\n\n###### Sample space of compositional data ######\n\nThe sample space of compositional data with $D$ parts is a simplex $\\mathcal{S}^D$ of dimension $D-1$: \n\n$\\mathcal{S}^D=\\{\\mathbf{x}=[x_1,x_2,\\dots,x_D]\\in \\mathbb{R}^D \\mid\nx_i>0, i=1,2,\\dots,D; \\sum_{i=1}^Dx_i=\\mathcal{k}\\}$\n\nThe only information is given by the *ratios between components*, so\nthe information of a composition is preserved under multiplication by\nany positive constant. Therefore, the sample space of compositional\ndata can always be assumed to be a standard simplex, i.e. $\\mathcal{k}\n= 1$.\n\nNormalization to the standard simplex is called closure and is\n\n$\\mathcal{C}[x_1,x_2,\\dots,x_D]=\\left[\\frac{x_1}{\\sum_{i=1}^D x_i},\\frac{x_2}{\\sum_{i=1}^D x_i}, \\dots,\\frac{x_D}{\\sum_{i=1}^D x_i}\\right]$\n\n\n###### Example ######\n\n4 Raters rated a 4-part-composition on $n=20$ subjects. See the interactive *Tetrahedron*\n\n\n\n\n::: {.cell webgl='true'}\n\n```{.r .cell-code}\nplot3D(datAitch,col=as.numeric(Rater),size=5,axes=TRUE,coors=TRUE)\n```\n\n```{=html}\n<div id=\"rgl51374\" style=\"width:100%;height:464px;\" class=\"rglWebGL html-widget\"></div>\n<script type=\"application/json\" data-for=\"rgl51374\">{\"x\":{\"material\":{\"color\":\"#000000\",\"alpha\":1,\"lit\":true,\"ambient\":\"#000000\",\"specular\":\"#FFFFFF\",\"emission\":\"#000000\",\"shininess\":50,\"smooth\":true,\"front\":\"filled\",\"back\":\"filled\",\"size\":3,\"lwd\":1,\"fog\":true,\"point_antialias\":false,\"line_antialias\":false,\"texture\":null,\"textype\":\"rgb\",\"texmipmap\":false,\"texminfilter\":\"linear\",\"texmagfilter\":\"linear\",\"texenvmap\":false,\"depth_mask\":true,\"depth_test\":\"less\",\"isTransparent\":false,\"polygon_offset\":[0,0],\"margin\":\"\",\"floating\":false,\"tag\":\"\"},\"rootSubscene\":7,\"objects\":{\"13\":{\"id\":13,\"type\":\"linestrip\",\"material\":{\"lit\":false,\"size\":2},\"vertices\":\"0\",\"colors\":\"1\",\"centers\":\"2\",\"ignoreExtent\":false,\"flags\":32832},\"14\":{\"id\":14,\"type\":\"points\",\"material\":{\"lit\":false,\"size\":5},\"vertices\":\"3\",\"colors\":\"4\",\"centers\":\"5\",\"ignoreExtent\":false,\"flags\":34816},\"15\":{\"id\":15,\"type\":\"text\",\"material\":{\"lit\":false},\"vertices\":\"6\",\"colors\":\"7\",\"texts\":[[\"peripheral\"],[\"central\"],[\"cortical\"],[\"vegetative\"]],\"cex\":[[1]],\"adj\":[[0.5,0.5,0.5]],\"centers\":\"8\",\"family\":[[\"bitmap\"]],\"font\":[[1]],\"ignoreExtent\":false,\"flags\":33808},\"11\":{\"id\":11,\"type\":\"light\",\"vertices\":[[0,0,1]],\"colors\":[[1,1,1,1],[1,1,1,1],[1,1,1,1]],\"viewpoint\":true,\"finite\":false},\"10\":{\"id\":10,\"type\":\"background\",\"material\":{},\"colors\":\"9\",\"centers\":\"10\",\"sphere\":false,\"fogtype\":\"none\",\"fogscale\":1,\"flags\":32768},\"12\":{\"id\":12,\"type\":\"background\",\"material\":{\"lit\":false,\"back\":\"lines\"},\"colors\":\"11\",\"centers\":\"12\",\"sphere\":false,\"fogtype\":\"none\",\"fogscale\":1,\"flags\":32768},\"7\":{\"id\":7,\"type\":\"subscene\",\"par3d\":{\"antialias\":8,\"FOV\":30,\"ignoreExtent\":false,\"listeners\":7,\"mouseMode\":{\"none\":\"none\",\"left\":\"trackball\",\"right\":\"zoom\",\"middle\":\"fov\",\"wheel\":\"pull\"},\"observer\":[0,0,4.24714517593384],\"modelMatrix\":[[1,0,0,0],[0,1,0,-0.20412415266037],[0,0,1,-4.53582048416138],[0,0,0,1]],\"projMatrix\":[[3.73205065727234,0,0,0],[0,3.73205065727234,0,0],[0,0,-3.86370325088501,-15.3104658126831],[0,0,-1,0]],\"skipRedraw\":false,\"userMatrix\":[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],\"userProjection\":[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],\"scale\":[1,1,1],\"viewport\":{\"x\":0,\"y\":0,\"width\":1,\"height\":1},\"zoom\":1,\"bbox\":[-0.70710676908493,0.70710676908493,-0.40824830532074,0.816496610641479,-0.288675129413605,0.866025388240814],\"windowRect\":[117,154,373,410],\"family\":\"bitmap\",\"font\":1,\"cex\":1,\"useFreeType\":false,\"fontname\":\"fixed\",\"maxClipPlanes\":8,\"glVersion\":4.6,\"activeSubscene\":0},\"embeddings\":{\"viewport\":\"replace\",\"projection\":\"replace\",\"model\":\"replace\",\"mouse\":\"replace\"},\"objects\":[12,13,14,15,11],\"subscenes\":[],\"flags\":36176}},\"crosstalk\":{\"key\":[],\"group\":[],\"id\":[],\"options\":[]},\"width\":672,\"height\":480,\"context\":{\"shiny\":false,\"rmarkdown\":null},\"buffer\":{\"accessors\":[{\"bufferView\":0,\"componentType\":5126,\"count\":8,\"type\":\"VEC3\"},{\"bufferView\":1,\"componentType\":5126,\"count\":1,\"type\":\"VEC4\"},{\"bufferView\":2,\"componentType\":5126,\"count\":8,\"type\":\"VEC3\"},{\"bufferView\":3,\"componentType\":5126,\"count\":80,\"type\":\"VEC3\"},{\"bufferView\":4,\"componentType\":5126,\"count\":80,\"type\":\"VEC4\"},{\"bufferView\":5,\"componentType\":5126,\"count\":80,\"type\":\"VEC3\"},{\"bufferView\":6,\"componentType\":5126,\"count\":4,\"type\":\"VEC3\"},{\"bufferView\":7,\"componentType\":5126,\"count\":1,\"type\":\"VEC4\"},{\"bufferView\":8,\"componentType\":5126,\"count\":4,\"type\":\"VEC3\"},{\"bufferView\":9,\"componentType\":5126,\"count\":1,\"type\":\"VEC4\"},{\"bufferView\":10,\"componentType\":5121,\"count\":1,\"type\":\"VEC3\"},{\"bufferView\":11,\"componentType\":5121,\"count\":1,\"type\":\"VEC4\"},{\"bufferView\":12,\"componentType\":5121,\"count\":1,\"type\":\"VEC3\"}],\"bufferViews\":[{\"buffer\":0,\"byteLength\":96,\"byteOffset\":0},{\"buffer\":0,\"byteLength\":16,\"byteOffset\":96},{\"buffer\":0,\"byteLength\":96,\"byteOffset\":112},{\"buffer\":0,\"byteLength\":960,\"byteOffset\":208},{\"buffer\":0,\"byteLength\":1280,\"byteOffset\":1168},{\"buffer\":0,\"byteLength\":960,\"byteOffset\":2448},{\"buffer\":0,\"byteLength\":48,\"byteOffset\":3408},{\"buffer\":0,\"byteLength\":16,\"byteOffset\":3456},{\"buffer\":0,\"byteLength\":48,\"byteOffset\":3472},{\"buffer\":0,\"byteLength\":16,\"byteOffset\":3520},{\"buffer\":0,\"byteLength\":3,\"byteOffset\":3536},{\"buffer\":0,\"byteLength\":4,\"byteOffset\":3539},{\"buffer\":0,\"byteLength\":3,\"byteOffset\":3543}],\"buffers\":[{\"byteLength\":3546,\"bytes\":\"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\\nAACAP8PCwj7R0FA/n56ePgAAgD/DwsI+0dBQP5+enj4AAIA/w8LCPtHQUD+fnp4+AACAP8PC\\nwj7R0FA/n56ePgAAgD/DwsI+0dBQP5+enj4AAIA/w8LCPtHQUD+fnp4+AACAP8PCwj7R0FA/\\nn56ePgAAgD/DwsI+0dBQP5+enj4AAIA/w8LCPtHQUD+fnp4+AACAP8PCwj7R0FA/n56ePgAA\\ngD/DwsI+0dBQP5+enj4AAIA/w8LCPtHQUD+fnp4+AACAP8PCwj7R0FA/n56ePgAAgD/DwsI+\\n0dBQP5+enj4AAIA/w8LCPtHQUD+fnp4+AACAP8PCwj7R0FA/n56ePgAAgD/DwsI+0dBQP5+e\\nnj4AAIA/w8LCPtHQUD+fnp4+AACAP4mICD6Ylxc/5+ZmPwAAgD+JiAg+mJcXP+fmZj8AAIA/\\niYgIPpiXFz/n5mY/AACAP4mICD6Ylxc/5+ZmPwAAgD+JiAg+mJcXP+fmZj8AAIA/iYgIPpiX\\nFz/n5mY/AACAP4mICD6Ylxc/5+ZmPwAAgD+JiAg+mJcXP+fmZj8AAIA/iYgIPpiXFz/n5mY/\\nAACAP4mICD6Ylxc/5+ZmPwAAgD+JiAg+mJcXP+fmZj8AAIA/iYgIPpiXFz/n5mY/AACAP4mI\\nCD6Ylxc/5+ZmPwAAgD+JiAg+mJcXP+fmZj8AAIA/iYgIPpiXFz/n5mY/AACAP4mICD6Ylxc/\\n5+ZmPwAAgD+JiAg+mJcXP+fmZj8AAIA/iYgIPpiXFz/n5mY/AACAP4mICD6Ylxc/5+ZmPwAA\\ngD+JiAg+mJcXP+fmZj8AAIA/w9CQPYapyDyb1VS+w9CQPefT+j2sXDG+w9AQPXHEnD6sXDG+\\nw9AQPvA3J72Qe2w9JDlZPvA3pz2Qe2w+JDnZPXHEnD6sXDG+UMetvVnGBb1A+oe+AAAAAAAA\\nAACsXDE+w9CQPefT+j2sXDE+w9AQPfJQEr6Qe2y9w9AQvefTer2sXDG+JDnZPvA3J72Qe+y9\\nAAAAAPA3pz2Qe+y9w9AQvensZT6Qe2y+JDlZPvA3J706zZO+w9AQPgAAwKOsXDG+w9AQvXPd\\nh76Qe2y+8wQ1PvA3p7yQe2y+AAAAAOfT+j6sXDE+w9CQPufT+j0AAICiw9CQPQAAAACsXDG+\\nw9CQPvA3pz06zZO+AAAAAPA3Jz46zZM+JDnZPvA3J76Qe2w9VG19PvA3pzyQe2w9w9CQPufT\\nej6sXDG+w9AQPewF0T2Qe2y9w9CQvvA3J76Qe2w9w9CQPefT+j2sXDE+w9AQPXPdhz6Qe2w9\\nAAAAAPJQkj6Qe+w92+qiPuwF0T2Qe2y+8wQ1PvJQEj6Qe2w9w9AQPvJQkj6Qe2y+JDnZPewF\\n0T2Qe2y+w9AQPgAAwKOsXDG+w9AQPvA3J746zZO+2+qiPufTej2sXDG+AAAAAOwF0T6Qe+w9\\n8wQ1PvJQEj6Qe2w9AAAAAFnGBTw6zZO+JDlZvvJQkr46zZO+w9CQPewFUT6Qe2w9JDnZPe4e\\nPL4AAACjw9CQPufTej6sXDG+w9AQPvA3J746zZO+8wS1PvA3Jz2Qe2y9JDlZPvA3J72Qe2w9\\narRnvBwbar06zZM+w9CQvewFUT4e7M4+rYkmvojCMz6hAkm+8wS1PvA3J72Qe2w92+qivuwF\\n0T2Qe2y+8wS1PvA3J706zZO+ImaxPoSQXT46zZO+w9CQPgAAAACsXDG+xaO4PlN7RD46zZO+\\nJDnZPvA3pz06zZO+AAAAAOns5T6Qe2w+VG19PuwF0T2Qe2y9w9CQPhwbaj2yiaW9UMctPuwF\\nUT6yiaW9l0K8Pb8ijj2yiSU+TvSFPoJ38r2Qe+w9sS/2PYjCM76hAkk+8wQ1PunsZT6Qe2y9\\nmRXkPre+4b294w2+UMetPbvwt72Qe2w+l0K8vbvwN70pRrc+CUyfPSBNwD2hAkk+UMetvO4e\\nPD694w09VG19Porbnr2nL708CUyfPXHEnD4AAAAAw9CQPefTej6b1dS9JDnZvVetGr6WqGC+\\nUMctPlnGhT2nLz08UMctPSR/Fr6b1dS9w9CQPvA3p72Qe2y9w9AQvXPdhz6Qe2w+VG19PvA3\\npzyQe2w98wQ1v+wF0b46zZO+8wQ1P+wF0b46zZO+AAAAAOwFUT86zZO+AAAAAAAAAADXs10/\\nv74+P7++Pj+/vj4/AACAP/MENb/sBdG+Os2TvvMENT/sBdG+Os2TvgAAAADsBVE/Os2TvgAA\\nAAAAAAAA17NdP5mYmD6ZmJg+mZiYPgAAgD8AAAABAQEBAAAA\"}]},\"players\":[],\"webGLoptions\":{\"preserveDrawingBuffer\":true}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/rglWebGL-binding-0.108.3/rglWebGL.js\"></script>\n<link href=\"../../site_libs/rglwidgetClass-0.108.3/rgl.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/rglClass.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/utils.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/buffer.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/subscenes.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/shaders.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/textures.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/projection.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/mouse.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/init.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/pieces.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/draw.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/controls.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/selection.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/rglTimer.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/pretty.src.js\"></script>\n<script src=\"../../site_libs/rglwidgetClass-0.108.3/axes.src.js\"></script>\n<script src=\"../../site_libs/CanvasMatrix4-0.108.3/CanvasMatrix.src.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}